(function(){var t,r,o,e,s,l,n,u,a,i,p,c,d,m,h,f,g,v,S,k,y,b,w,I,x;console.log("%cВаш браузер – "+navigator.sayswho,"color:forestgreen;font-size:16px;"),$("#asideTrigger").on("click",function(){return $(this).parent().toggleClass("open")}),$("#menuTrigger, #menuCloser").on("click",function(){return $("#menuWrap").toggleClass("open")}),$("#addressesListTrigger").on("click",function(){return $("#hiddenAddressesList").slideDown(250),$(this).hide()}),v=function(e){var t;return(t=e.next().find(".jq-selectbox__select-text")).html("<span>"+t.text()+"</span>"),!0},$("select:not(.unstyled)").each(function(){var e;return(e=$(this)).styler({selectSearch:!0,selectPlaceholder:e.data("placeholder")?e.data("placeholder"):"-- Выберите --",onFormStyled:function(){return v(e),!0},onSelectClosed:function(){return v(e),!0}})}),$("input[type=number]:not(.unstyled), input[type=checkbox]:not(.unstyled), input[type=radio]:not(.unstyled)").styler(),$('input[type="file"]').each(function(){return $(this).styler({filePlaceholder:$(this).data("placeholder"),fileBrowse:""}),!0}),$('input[name="phone"]').mask("+79999999999"),(m=$("#calcForm")).title=$("#calcTitle"),m.sumInput=$("#sumInput"),m.sumSlider=$("#sumSlider"),m.sumSlider.step=1e3,m.timeInput=$("#timeInput"),m.timeSlider=$("#timeSlider"),m.monthPay=$("#monthPay"),m.allReturn=$("#allReturn"),m.allOver=$("#allOver"),m.allDate=$("#allDate"),m.data=null,$('form [type="number"]').keydown(function(e){return 13!==e.keyCode||(e.preventDefault(),$(this).trigger("refresh"),a(),!1)}),a=function(){var e,t,n,i,s,a,r,o,l;return s=parseFloat(m.data[0].fee)/100,r=(n=(t=parseInt(m.timeInput.val())*(parseInt(m.sumInput.val())*s)/12)+parseInt(m.sumInput.val()))/parseInt(m.timeInput.val()),o=new Date,i=(e=new Date(o.setMonth(o.getMonth()+parseInt(m.timeInput.val())))).getDate(),(a=e.getMonth()+1)<10&&(a="0"+a),l=e.getFullYear(),m.monthPay.text(r.toLocaleString("ru-RU",{minimumFractionDigits:2,maximumFractionDigits:2})),m.monthPay.next().val(r),m.allReturn.text(n.toLocaleString("ru-RU",{minimumFractionDigits:0,maximumFractionDigits:0})),m.allReturn.next().val(n),m.allOver.text(t.toLocaleString("ru-RU",{minimumFractionDigits:0,maximumFractionDigits:0})),m.allOver.next().val(t),m.allDate.text(i+"."+a+"."+l),m.allDate.next().val(i+"."+a+"."+l)},p=function(n){var i;return i=m.sumSlider.names[0],$.each(m.data,function(e,t){if(n>=parseInt(t.sum_0)&&n<=parseInt(t.sum_1))return m.timeSlider.slider("setAttribute","min",m.timeSlider.ticks[2*e]),m.timeSlider.slider("setAttribute","max",m.timeSlider.ticks[2*e+1]),m.timeSlider.slider("setValue",m.timeSlider.ticks[2*e]),m.timeInput.val(m.timeSlider.ticks[2*e]).prop("min",m.timeSlider.ticks[2*e]).prop("max",m.timeSlider.ticks[2*e+1]),i=m.sumSlider.names[e+1],!1}),m.title.html(i),a(),!0},S=function(){return m.sumInput.change(function(){var e,t,n;return(n=parseInt($(this).val()))<(t=parseInt($(this).prop("min")))&&(n=t),(e=parseInt($(this).prop("max")))<n&&(n=e),m.sumInput.val(n),m.sumSlider.slider("setValue",n),p(n)}),m.timeInput.change(function(){var e,t,n;return(n=parseInt($(this).val()))<(t=parseInt($(this).prop("min")))&&(n=t),(e=parseInt($(this).prop("max")))<n&&(n=e),m.timeInput.val(n),m.timeSlider.slider("setValue",n)}),m.timeSlider.on("slide",function(e){return m.timeInput.val(e.value),a(),!0}),m.timeSlider.on("change",function(e){return m.timeInput.val(e.value.newValue),a(),!0}),m.sumSlider.on("slide",function(e){return m.sumInput.val(e.value),p(e.value),!0}),m.sumSlider.on("change",function(e){return m.sumInput.val(e.value.newValue),p(e.value.newValue),!0})},b=function(){return m.timeSlider.ticks=[],$.each(m.data,function(e,t){return m.timeSlider.ticks.push(parseInt(t.time_0)),m.timeSlider.ticks.push(parseInt(t.time_1))}),m.timeSlider.slider({min:m.timeSlider.ticks[0],max:m.timeSlider.ticks[1],value:m.timeSlider.ticks[0],step:1}),m.timeInput.val(m.timeSlider.ticks[0]).prop("min",m.timeSlider.ticks[0]).prop("max",m.timeSlider.ticks[1]).prop("step",1),a(),S()},k=function(){return m.sumSlider.ticks=[parseInt(m.data[0].sum_0)],m.sumSlider.ticks_positions=[0],m.sumSlider.names=[m.title.html().replace(/\n/g,"")],$.each(m.data,function(e,t){return m.sumSlider.ticks.push(parseInt(t.sum_1)),m.sumSlider.ticks_positions.push(100/m.data.length*(e+1)),m.sumSlider.names.push(t.name)}),m.sumSlider.obj=m.sumSlider.slider({ticks:m.sumSlider.ticks,ticks_positions:m.sumSlider.ticks_positions,ticks_snap_bounds:0,value:parseInt(m.data[0].sum_0),step:m.sumSlider.step}),m.sumInput.val(parseInt(m.data[0].sum_0)).prop("min",parseInt(m.data[0].sum_0)).prop("max",parseInt(m.data[m.data.length-1].sum_1)).prop("step",m.sumSlider.step),b()},t=function(e){return m.data||(m.data=e),k()},e=function(){return $.ajax({url:"js/calcdata.json"}).done(function(e){return t(e),!0}).fail(function(e){return console.log(e),null})},0<m.length&&e(),$(".js-calc-scroll-trigger").on("click",function(e){return e.preventDefault(),"calcSection",$(window).scrollTo("#calcSection",{axis:"y",offset:0-$(".header").innerHeight(),duration:800}),!0}),0<(f=$("#mainSlider")).length&&f.slick({swipe:!0,draggable:!0,dots:!0,dotsClass:"slick-dots main-slider-dots list-unstyled",arrows:!1,prevArrow:'<button type="button" class="slick-prev"><span></span></button>',nextArrow:'<button type="button" class="slick-next"><span></span></button>',infinite:!0,pauseOnHover:!1,fade:!1,cssEase:"ease-in-out",vertical:!1,centerMode:!1,centerPadding:"0px",speed:750,autoplay:"boolean"!=typeof f.data("autoplay")||f.data("autoplay"),autoplaySpeed:5e3,slidesToShow:1,slidesToScroll:1,responsive:[{breakpoint:768,settings:"unslick"}]}),0<(h=$("#loansSlider")).length&&(h.on("init",function(e){if(!$("html").hasClass("desktop"))return $(".js-tile").on("click",function(){return $(this).toggleClass("flip"),$(this).parents(".slick-slide").siblings().find(".js-tile").removeClass("flip")})}),h.slick({swipe:!0,draggable:!0,dots:!1,dotsClass:"slick-dots list-unstyled",arrows:!1,prevArrow:'<button type="button" class="slick-prev"><span></span></button>',nextArrow:'<button type="button" class="slick-next"><span></span></button>',infinite:!0,pauseOnHover:!1,fade:!1,cssEase:"ease-in-out",vertical:!1,centerMode:!1,centerPadding:"0px",speed:750,autoplay:"boolean"!=typeof h.data("autoplay")||h.data("autoplay"),autoplaySpeed:5e3,slidesToShow:5,slidesToScroll:1,responsive:[{breakpoint:992,settings:{slidesToShow:3,arrows:!0}},{breakpoint:768,settings:{slidesToShow:2,arrows:!0}},{breakpoint:480,settings:{slidesToShow:1,arrows:!0}}]})),0<(x=$("#whySlider")).length&&x.slick({swipe:!0,draggable:!0,dots:!1,dotsClass:"slick-dots list-unstyled",arrows:!1,prevArrow:'<button type="button" class="slick-prev"><span></span></button>',nextArrow:'<button type="button" class="slick-next"><span></span></button>',infinite:!0,pauseOnHover:!1,fade:!1,cssEase:"ease-in-out",vertical:!1,centerMode:!1,centerPadding:"0px",speed:750,autoplay:"boolean"!=typeof x.data("autoplay")||x.data("autoplay"),autoplaySpeed:5e3,slidesToShow:3,slidesToScroll:1,responsive:[{breakpoint:768,settings:{slidesToShow:1}}]}),0<(y=$("#teamSlider")).length&&y.slick({swipe:!0,draggable:!0,dots:!1,dotsClass:"slick-dots list-unstyled",arrows:!0,prevArrow:'<button type="button" class="slick-prev"><span></span></button>',nextArrow:'<button type="button" class="slick-next"><span></span></button>',infinite:!0,pauseOnHover:!1,fade:!1,cssEase:"ease-in-out",vertical:!1,centerMode:!1,centerPadding:"0px",speed:750,autoplay:"boolean"!=typeof y.data("autoplay")||y.data("autoplay"),autoplaySpeed:5e3,slidesToScroll:1,slidesToShow:4,rows:2,responsive:[{breakpoint:992,settings:{slidesToShow:3}},{breakpoint:768,settings:{slidesToShow:2,rows:1}},{breakpoint:520,settings:{slidesToShow:1,rows:1}}]}),$("#numberSlider").slider({min:1,max:100,value:85,step:1,enabled:!1,tooltip:"hide"}),d=$("#faqAccordion"),w=".accordion-title",d.find(w).each(function(){return $(this).append('<span class="arrow"></span>')}),d.find(w).on("click",function(e){return e.preventDefault(),$(this).hasClass("open")?$(this).removeClass("open").next().slideUp(250):($(this).addClass("open").next().slideDown(250),$(this).siblings(w).each(function(){return $(this).removeClass("open").next().slideUp(250)})),!0}),$(d.find(w)[0]).trigger("click"),l=$("#mapBlock"),r=null,g=$("#sitySelector"),n=function(e){var i,t,n,s,a,o,r;return 0<l.find("#map").length&&l.find("#map").remove(),$('<div id="map"></div>').appendTo(l),$("#map").css({height:parseInt(l.data("height"))}),n=e.longitude,s=e.latitude,r=e.zoom,t=[0,0],n&&n&&(t=[n,s]),i=new ymaps.Map("map",{center:t,zoom:r,controls:["zoomControl"]}),$("html").is(".desktop")&&i.behaviors.disable("scrollZoom"),o=function(e,t){var n;return n=new ymaps.Placemark(e,t,{iconLayout:"default#image",hideIconOnBalloonOpen:!0,iconImageHref:"../img/marker.svg",iconImageSize:[61,78],iconImageOffset:[-30,-78]}),i.geoObjects.add(n),!0},a=e.markers,$.each(a,function(e,t){var n,i,s,a,r;return n=t.address,s=t.name,"",i=n,a=t.longitude,r=t.latitude,a&&r&&o([a,r],{hintContent:s,balloonContentHeader:s,balloonContentBody:"",balloonContentFooter:i}),!0})},u=function(e){return 0<l.length&&$.getScript("//api-maps.yandex.ru/2.1/?load=package.standard,package.geoObjects&lang=ru-RU",function(){return ymaps.ready(function(){return n(e),!0})}),!0},o=function(){var e;return e=null,$(".tabs-row input").each(function(){if(!0===$(this).prop("checked"))return e=$(this),!1}),e||($($(".tabs-row input")[0]).prop("checked",!0),e=$($(".tabs-row input")[0])),e},i=function(e){var t,n,i;return r||(r=e),i=o().val(),t=r[i].cities,g.html(""),n='<option value="all">Все города</option>',$.each(t,function(e,t){return n+='<option value="'+t.id+'">'+t.name+"</option>"}),g.html(n),g.trigger("refresh"),s("all")},e=function(){return $.ajax({url:"js/mapdata.json"}).done(function(e){return i(e),!0}).fail(function(e){return console.log(e),null})},s=function(n){var i,e,s,t,a;return t=o().val(),a=r[t],s=new Array,e="all"===n?($.each(a.cities,function(e,t){return s=s.concat(t.points)}),{latitude:a.latitude,longitude:a.longitude,zoom:a.zoom,markers:s}):(i=null,$.each(a.cities,function(e,t){if(t.id===n)return i=t,!1}),{latitude:i.latitude,longitude:i.longitude,zoom:i.zoom,markers:i.points}),u(e)},0<l.length&&!r&&e(),$(".tabs-row input").change(function(){return i()}),g.change(function(e){return s($(e.target).val())}),(I=$("#viewSwitcher")).types=I.find("input[type=radio]"),I.wraps=$(".view-type-wrap"),c=function(){return $.each(I.wraps,function(e,t){return $(t).hide()}),$.each(I.types,function(e,t){var n;if($(t).prop("checked"))return n="#"+$(t).prop("id")+"_wrap",$(n).show()})},I.types.on("click",function(e){return c()}),$(I.types[1]).prop("checked",!0),c()}).call(this);